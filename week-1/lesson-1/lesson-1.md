# Setup and Rendering with React

## Overview

React is a library for performing efficient updates to a web page; a process referred to as ```rendering```. To use React, the author describes how a given application state should be displayed and React takes care of manipulating the browser's ```DOM``` to match that state. This removes the error-prone process of manually updating parts of the DOM when your application state changes. With React, you merely render **everything** again, and React makes sure only to make the minimal changes necessary.

## One-Way vs. Two-Way Data Flow

In contrast with other tools that also help with DOM manipulation, such as Angular, React embraces the concept of **one-way data flow**. This means when using React, the view is generated by React, but does not communicate directly back to it. Instead, actions generated by your views such as clicks and key presses must go through an intermediate layer which React calls the ```dispatcher```. This dispatcher decides how to interpret the action and what changes, if any, should be made to your application ```state```. React documentation refers to the ```state``` of your application as the ```store```.

![Figure 1-1: React Data Flow](assets/react-flux-data-flow.png)
Figure 1-1: React Data Flow

React does not have an opinion on what dispatcher and store you should use, it only provides the capability to convert your ```state``` into updates for the browser. You can write your own dispatcher and store, or use one of the many options available as open source projects. In this course, you will start off writing your own and then transition into using **Redux**.

## Virtual DOM

React makes certain the ```render``` function's output is what the page actually contains. This may involve adding elements, removing elements, or updating elements in-place. These are the kind of operations traditionally jQuery is used for. Unfortunately, making updates to the DOM can be slow, and multiple unnecessary updates can severely impact the responsiveness of a site, especially as the number of updates grows. This was one of the driving factors for motivating Facebook to develop **React**. With React they were able to minimize the amount of updates being performed and bring the performance of the page back to a reasonable point.

To build up a minimal list of operations to be performed on the DOM, React needs to be able to compare what is currently in the DOM to what should be there. To support this, the ```render``` function does not output HTML or make changes to the DOM directly. Instead, it outputs a data structure known as a **Virtual DOM**. This virtual version of the DOM is greatly simplified and very fast to work with. React then checks the virtual DOM against the real DOM in the browser and makes a list of updates to perform. Since DOM manipulation is a slow process, this ensures only elements genuinely changed are updated. There are many Virtual DOM based systems available in the JavaScript ecosystem, but **React** is by far the most commonly used.

## Review

Below is a quiz to review the recently covered material. Quizzes are not graded.

#### Question 1 of 6

React is a library used to render web pages efficiently.

True [ ] 

False [ ]

Solution: True

#### Question 2 of 6

React manipulates the browser's DOM to match the shape of the content based upon the application state.

True [ ] 

False [ ]

Solution: True

#### Question 3 of 6

Each time React renders a web page, only the minimal, necessary changes are made.

True [ ] 

False [ ]

Solution: True

#### Question 4 of 6

React compares the virtual DOM with the actual browser DOM to determine what should be changed.

True [ ] 

False [ ]

Solution: True

#### Question 5 of 6

With React, actions on a web page like clicking a button are routed through a _________________.

	A. DOM
	B. store
	C. dispatcher
	D. library

Solution: C. dispatcher

#### Question 6 of 6

The state of your web application in React is referred to as the ______________.

	A. DOM
	B. store
	C. dispatcher
	D. library	

Solution: B. store

## Frameworks and Libraries

You may have encountered the terms ```framework``` and ```library```. Both of these terms describe "code someone else wrote that is not part of your application". Generally speaking, a library is a collection of functionality meant to be integrated into your application. Each part of a library is relatively isolated and can be brought in piece-by-piece. Frameworks, on the other hand, work by having your application embedded inside them. In this way, frameworks dictate much, if not all, of how your application is structured. This has both benefits and drawbacks.

### Benefits

By dictating much of how your application will work, ```frameworks``` are great at taking shortcuts by providing simpler ways of adding difficult functionality to your projects. It also reduces the amount of work you need to get started on a project.

```Libraries```, on the other hand, don't dictate how they are used. When working on a project, you choose how to bring them into your application and what parts you would like to use. As such, you must wire up all the necessary parts yourself, which often means getting started with a library is a bit slower.

### Drawbacks

When using ```frameworks```, decisions are made up front that allow and define the shortcuts to be taken in a project. By doing this, it will restrict the choices you have within your project. Conventions are great until you want to break them, and in some frameworks, stepping outside the dictated path can be quite tricky.

```Libraries```, however, have very few built-in decisions, so you're at much greater liberty to use it just the way you want to. You can use a single function from a library or use all of what is provided. When using libraries, you also have the option to use multiple libraries together in ways the original authors had no intention of.

### Metaphor

Think of a ```framework``` as a workout class. You use the equipment the instructor wants you to use, and you do the exercises the instructor chooses. Compare this to going to a gym and having all the machines available to you. You decide what equipment to use and how to use it yourself. This is how ```Libraries``` work. The class is nice because you just show up and put in the work, but you trust the instructor has put together a reasonable routine. But just going to the gym and using the available equipment is useful because you get to work on exactly what you want, and for as long as you would like by making up your own workout.

#### Review

(Same as in original course)

## React Setup

Now that you have a general idea of what React is and how it works, the next step is to install a starter project provided for you. You will be working in this project throughout the next several lessons, so it is important to not skip this page.

For this course, create a folder in your ```SoftwareDevelopment``` folder named ```FEFReact```. Please add all projects to this folder to help keep yourself organized. You will be creating projects to practice the code from the lesson and projects for your Hands-On solutions. As you move through this course, you will be asked to create projects with specific names, so please add these projects into the ```FEFReact``` folder. To create this folder, follow the steps below:

1. Open up your command prompt/terminal.
2. Run the following to navigate to your Desktop

	```cd Desktop```

3. Next, navigate to the ```SoftwareDevelopment``` 
directory in your terminal.

	```cd SoftwareDevelopment```

- You created this folder in your Front-End Foundations course. If you do not have this folder follow the directions below:
	1. Create a root folder on your desktop and name it ```SoftwareDevelopment```.

		```mkdir SoftwareDevelopment```

	2. Next, navigate to the ```SoftwareDevelopment directory``` in your terminal.

		```cd SoftwareDevelopment```
4. Create a new folder within your ```SoftwareDevelopment``` folder and name it ```FEFReact```. (This folder will hold all your coursework for this course)

	```mkdir FEFReact```

5. Then, navigate to the ```FEFReact``` directory in your terminal.

	```cd FEFReact```

Great! Now you have a folder to house all of the projects for this course. Remember to create projects when asked and make sure they live in this folder!


## Project Setup

We will now start getting familiar with probably the most important topic of this course, namely the React-library. Let's start off by making a simple React application as well as getting to know the core concepts of React.

The easiest way to get started by far is by using a tool called ```create-react-app```. It is possible (but not necessary) to install ```create-react-app``` on your machine if the ```npm``` tool that was installed along with Node has a version number of at least 5.3.

Let's create an application called ```part1``` and navigate to its directory.

```
cd FEFReact
npx create-react-app part1
cd part1
```
To install the required Node Library;

```npm install```

This takes a while so be patient and wait until it finishes.

Now let's run the application.

```npm start```

By default, the application runs on localhost port 3000 with the address http://localhost:3000

Your default browser should launch automatically. Open the browser console immediately. 

![](assets/create-react-app.png)

The source code of the application resides in the ```src``` folder. Let's simplify the default code so the contents of the file ```index.js``` look like:

```
import React from 'react'
import ReactDOM from 'react-dom/client'

import App from './App'

ReactDOM.createRoot(document.getElementById('root')).render(<App />)
```

and file ```App.js``` looks like this;

```const App = () => (
  <div>
    <p>Hello world</p>
  </div>
)

export default App
```

Delete the following files as we don't need them just yet. 

-  ```App.css```, 
- ```App.test.js```, 
- ```index.css```, 
- ```logo.svg```, 
- ```setupTests.js``` and 
- ```reportWebVitals.js``` 

If you end up with the following error:

![](assets/r18-error.png)

You are using a React version older than the current version **18**.

The solution is to change ```index.js``` as follows:

```
import ReactDOM from 'react-dom'
import App from './App'

ReactDOM.render(<App />, document.getElementById('root'))
```

You may need to do the same for your other projects if the error pops up.


